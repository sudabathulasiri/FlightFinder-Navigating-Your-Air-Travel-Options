<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sign Up - FlightFinder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(120deg, #ffecd2 0%, #fcb69f 100%);
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      color: #222;
    }
    .header {
      width: 100%;
      background: #fff;
      box-shadow: 0 4px 24px rgba(0,0,0,0.06);
      margin-bottom: 40px;
    }
    .header-content {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 24px;
    }
    .logo {
      font-size: 26px;
      font-weight: 700;
      color: #ff6b35;
      letter-spacing: 1px;
    }
    .nav-links {
      display: flex;
      list-style: none;
      gap: 32px;
    }
    .nav-links a {
      color: #222;
      text-decoration: none;
      font-weight: 500;
      transition: opacity 0.3s;
    }
    .nav-links a:hover {
      opacity: 0.7;
    }
    .auth-buttons {
      display: flex;
      gap: 12px;
    }
    .signin-btn, .signup-btn {
      padding: 8px 20px;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 500;
      transition: all 0.3s;
    }
    .signin-btn {
      color: #ff6b35;
      border: 1px solid #ff6b35;
      background: #fff;
    }
    .signup-btn {
      background: #ff6b35;
      color: #fff;
    }
    .signin-btn:hover {
      background: #ff6b35;
      color: #fff;
    }
    .signup-btn:hover {
      background: #e5552a;
    }
    .main-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 30px;
      margin-bottom: 60px;
    }
    .signup-card {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.10);
      max-width: 400px;
      width: 100%;
      padding: 36px 32px 28px 32px;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 32px;
    }
    .signup-card h2 {
      margin: 0 0 18px 0;
      font-size: 24px;
      color: #ff6b35;
      font-weight: 700;
      letter-spacing: 1px;
    }
    .signup-form {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .signup-form input, .signup-form select {
      padding: 13px 12px;
      border-radius: 8px;
      border: 1.5px solid #e5e7eb;
      font-size: 15px;
      background: #f9fafb;
      transition: border-color 0.3s;
    }
    .signup-form input:focus, .signup-form select:focus {
      border-color: #ff6b35;
      outline: none;
    }
    .signup-form button {
      background: #ff6b35;
      color: #fff;
      border: none;
      padding: 14px 0;
      border-radius: 8px;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      margin-top: 8px;
      transition: background 0.3s;
      letter-spacing: 1px;
    }
    .signup-form button:hover {
      background: #e5552a;
    }
    .login-link {
      text-align: center;
      font-size: 0.95em;
      margin-top: 1em;
    }
    .login-link a {
      color: #00ffc8;
      text-decoration: none;
      transition: color 0.2s;
    }
    .login-link a:hover {
      text-decoration: underline;
      color: #ff6b35;
    }
    /* Testimonials */
    .reviews-section {
      padding: 40px 0 0 0;
      background: none;
      max-width: 900px;
      margin: 0 auto;
    }
    .reviews-section h2 {
      text-align: center;
      margin-bottom: 32px;
      color: #ff6b35;
      font-size: 28px;
      font-weight: 700;
    }
    .reviews-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 28px;
      max-width: 900px;
      margin: 0 auto;
    }
    .review-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      padding: 22px 18px;
      text-align: left;
    }
    .review-text {
      font-size: 16px;
      margin-bottom: 10px;
    }
    .review-author {
      font-weight: 600;
      color: #ff6b35;
    }
    .review-rating {
      color: #fbbf24;
      font-size: 18px;
      margin-bottom: 6px;
    }
    /* FAQ Section */
    .faq-section {
      padding: 40px 0 60px 0;
      background: none;
      max-width: 900px;
      margin: 0 auto;
    }
    .faq-section h2 {
      text-align: center;
      margin-bottom: 32px;
      color: #ff6b35;
      font-size: 28px;
      font-weight: 700;
    }
    .faq-list {
      max-width: 700px;
      margin: 0 auto;
    }
    .faq-item {
      margin-bottom: 18px;
      border-radius: 8px;
      background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      padding: 18px 22px;
    }
    .faq-question {
      font-weight: 600;
      margin-bottom: 8px;
    }
    .faq-answer {
      color: #555;
    }
    @media (max-width: 600px) {
      .header-content {
        flex-direction: column;
        gap: 10px;
        padding: 12px 6px;
      }
      .signup-card {
        padding: 18px 6px 18px 6px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo">FlightFinder</div>
      <nav>
        <ul class="nav-links">
          <li><a href="app.html">Home</a></li>
          <li><a href="flights.html">Flights</a></li>
          <li><a href="offers.html">Offers</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="support.html">Support</a></li>
        </ul>
      </nav>
      <div class="auth-buttons">
        <a href="signin.html" class="signin-btn">Sign in</a>
        <a href="signup.html" class="signup-btn">Sign up</a>
      </div>
    </div>
  </header>

  <div class="main-content">
    <div class="signup-card">
      <h2>Create Your Account</h2>
      <form class="signup-form" id="signupForm">
        <input type="text" placeholder="Full Name" id="fullName" required />
        <input type="date" id="dob" required />
        <input type="email" placeholder="Email (@gmail.com)" id="email" required />
        <select id="countryCode" required>
          <option value="+91">India (+91)</option>
          <option value="+1">USA (+1)</option>
          <option value="+44">UK (+44)</option>
        </select>
        <input type="tel" placeholder="Phone Number" id="phone" required />
        <input type="text" placeholder="Username (letters & numbers)" id="username" required />
        <input type="password" placeholder="Password" id="password" required />
        <input type="password" placeholder="Confirm Password" id="confirmPassword" required />
        <button type="submit">Sign Up</button>
        <div class="login-link">
          Already have an account? <a href="signin.html">Login</a>
        </div>
      </form>
    </div>
  </div>

  <!-- Testimonials Section -->
  <section class="reviews-section">
    <h2>What Our Users Say</h2>
    <div class="reviews-grid">
      <div class="review-card">
        <div class="review-rating">★★★★★</div>
        <div class="review-text">"Signing up was quick and easy!"</div>
        <div class="review-author">- Neha R., Bengaluru</div>
      </div>
      <div class="review-card">
        <div class="review-rating">★★★★☆</div>
        <div class="review-text">"Love the deals I get after joining."</div>
        <div class="review-author">- Arjun T., Pune</div>
      </div>
      <div class="review-card">
        <div class="review-rating">★★★★★</div>
        <div class="review-text">"The best flight booking experience!"</div>
        <div class="review-author">- Sara M., Delhi</div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-list">
      <div class="faq-item">
        <div class="faq-question">What do I need to sign up?</div>
        <div class="faq-answer">Just your name, a valid Gmail address, and a password that meets our security requirements.</div>
      </div>
      <div class="faq-item">
        <div class="faq-question">Is my data safe?</div>
        <div class="faq-answer">Absolutely! We use bank-level encryption to keep your data secure.</div>
      </div>
      <div class="faq-item">
        <div class="faq-question">Can I change my details later?</div>
        <div class="faq-answer">Yes, you can update your profile information anytime after signing up.</div>
      </div>
    </div>
  </section>

  <script>
document.getElementById('signupForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const fullName = document.getElementById('fullName').value.trim();
  const dob = document.getElementById('dob').value;
  const email = document.getElementById('email').value.trim();
  const countryCode = document.getElementById('countryCode').value;
  const phone = document.getElementById('phone').value.trim();
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value;
  const confirmPassword = document.getElementById('confirmPassword').value;

  // Validation (keep your existing checks)
  const usernameRegex = /^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/;
  const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

  if (!usernameRegex.test(username)) {
    alert("Username must contain both letters and numbers.");
    return;
  }
  if (!email.endsWith("@gmail.com")) {
    alert("Email must be a Gmail address (@gmail.com).");
    return;
  }
  if (!passwordRegex.test(password)) {
    alert("Password must be at least 8 characters and include letters, numbers, and a special character.");
    return;
  }
  if (password !== confirmPassword) {
    alert("Passwords do not match.");
    return;
  }
  const birthDate = new Date(dob);
  const today = new Date();
  let age = today.getFullYear() - birthDate.getFullYear();
  const m = today.getMonth() - birthDate.getMonth();
  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
    age--;
  }
  if (age < 12) {
    alert("Your age is too low to sign up.");
    return;
  }

  // Send signup request to backend
  const res = await fetch("http://localhost:5000/api/auth/register", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      fullName,
      dob,
      email,
      countryCode,
      phone,
      username,
      password
    })
  });

  const data = await res.json();
  if (res.ok && data.token) {
    localStorage.setItem("token", data.token);
    alert("Sign-up successful! Redirecting to home page...");
    window.location.href = "app.html";
  } else {
    alert(data.message || "Signup failed");
  }
});
</script>
  </body>
</html>
